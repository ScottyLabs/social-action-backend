{"ast":null,"code":"var _jsxFileName = \"/Users/anushkasaxena/Apps/School/social-action-backend/client/src/App.js\";\nimport React, { useEffect } from \"react\";\nimport axios from \"axios\";\nimport Spotlight from \"./components/Spotlight\";\nimport Overview from \"./components/Overview\";\nimport \"./App.css\"; // import { getRandomPhotoURL } from \"./unsplash.js\";\n\nconst apiBaseURL = \"https://api.unsplash.com/\";\nconst authHeader = \"Client-ID \" + process.env.REACT_APP_UNSPLASH_ACCESS_KEY;\nconst unsplashURLSuffix = \"?utm_source=pgh_keeps_tabs&utm_medium=referral\";\nconst unsplashURL = \"https://unsplash.com/\" + unsplashURLSuffix;\n\nfunction App() {\n  const [unsplashRes, setUnsplashRes] = React.useState(null); // GET RANDOM PHOTO REQUEST\n\n  function setRandomPhotoURL() {\n    return axios.get(apiBaseURL + \"photos/random?orientation=landscape\", {\n      headers: {\n        \"Accept-Version\": \"v1\",\n        Authorization: authHeader\n      },\n      params: {\n        query: \"background\"\n      }\n    }).then(res => {\n      console.log(res);\n      setUnsplashRes({\n        imageURL: res.data.urls.regular,\n        userURL: res.data.user.links.html,\n        userFullName: res.data.user.first_name + \" \" + res.data.user.last_name\n      });\n      triggerDownload(res.data.id);\n      return res.data.urls.regular;\n    }).catch(err => console.error(err));\n  } // TRIGGER PHOTO DOWNLOAD\n\n\n  function triggerDownload(photoId) {\n    axios.get(apiBaseURL + \"photos/\" + photoId + \"/download\", {\n      headers: {\n        \"Accept-Version\": \"v1\",\n        Authorization: authHeader\n      }\n    }).then(res => {\n      console.log(res);\n    }).catch(err => console.error(err));\n  }\n\n  useEffect(() => {\n    setRandomPhotoURL();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    style: {\n      backgroundImage: `url(${unsplashRes ? unsplashRes.imageURL : \"\"})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Overview, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Spotlight, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  })), unsplashRes && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"mark\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \"Photo by\", \" \", /*#__PURE__*/React.createElement(\"a\", {\n    className: \"unsplash\",\n    href: unsplashRes.userURL,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, unsplashRes.userFullName), \" \", \"on\", \" \", /*#__PURE__*/React.createElement(\"a\", {\n    className: \"unsplash\",\n    href: unsplashURL,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Unsplash\"))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/anushkasaxena/Apps/School/social-action-backend/client/src/App.js"],"names":["React","useEffect","axios","Spotlight","Overview","apiBaseURL","authHeader","process","env","REACT_APP_UNSPLASH_ACCESS_KEY","unsplashURLSuffix","unsplashURL","App","unsplashRes","setUnsplashRes","useState","setRandomPhotoURL","get","headers","Authorization","params","query","then","res","console","log","imageURL","data","urls","regular","userURL","user","links","html","userFullName","first_name","last_name","triggerDownload","id","catch","err","error","photoId","backgroundImage"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport axios from \"axios\";\n\nimport Spotlight from \"./components/Spotlight\";\nimport Overview from \"./components/Overview\";\nimport \"./App.css\";\n// import { getRandomPhotoURL } from \"./unsplash.js\";\n\nconst apiBaseURL = \"https://api.unsplash.com/\";\nconst authHeader = \"Client-ID \" + process.env.REACT_APP_UNSPLASH_ACCESS_KEY;\nconst unsplashURLSuffix = \"?utm_source=pgh_keeps_tabs&utm_medium=referral\";\nconst unsplashURL = \"https://unsplash.com/\" + unsplashURLSuffix;\n\nfunction App() {\n  const [unsplashRes, setUnsplashRes] = React.useState(null);\n\n  // GET RANDOM PHOTO REQUEST\n  function setRandomPhotoURL() {\n    return axios\n      .get(apiBaseURL + \"photos/random?orientation=landscape\", {\n        headers: {\n          \"Accept-Version\": \"v1\",\n          Authorization: authHeader,\n        },\n        params: {\n          query: \"background\",\n        },\n      })\n      .then((res) => {\n        console.log(res);\n        setUnsplashRes({\n          imageURL: res.data.urls.regular,\n          userURL: res.data.user.links.html,\n          userFullName:\n            res.data.user.first_name + \" \" + res.data.user.last_name,\n        });\n        triggerDownload(res.data.id);\n        return res.data.urls.regular;\n      })\n      .catch((err) => console.error(err));\n  }\n\n  // TRIGGER PHOTO DOWNLOAD\n  function triggerDownload(photoId) {\n    axios\n      .get(apiBaseURL + \"photos/\" + photoId + \"/download\", {\n        headers: {\n          \"Accept-Version\": \"v1\",\n          Authorization: authHeader,\n        },\n      })\n      .then((res) => {\n        console.log(res);\n      })\n      .catch((err) => console.error(err));\n  }\n\n  useEffect(() => {\n    setRandomPhotoURL();\n  }, []);\n\n  return (\n    <div\n      className=\"App\"\n      style={{\n        backgroundImage: `url(${unsplashRes ? unsplashRes.imageURL : \"\"})`,\n      }}\n    >\n      <div>\n        <Overview />\n        <Spotlight />\n      </div>\n      {unsplashRes && (\n        <p>\n          <mark>\n            Photo by{\" \"}\n            <a className=\"unsplash\" href={unsplashRes.userURL}>\n              {unsplashRes.userFullName}\n            </a>{\" \"}\n            on{\" \"}\n            <a className=\"unsplash\" href={unsplashURL}>\n              Unsplash\n            </a>\n          </mark>\n        </p>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}